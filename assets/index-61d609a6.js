(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))a(t);new MutationObserver(t=>{for(const c of t)if(c.type==="childList")for(const n of c.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&a(n)}).observe(document,{childList:!0,subtree:!0});function o(t){const c={};return t.integrity&&(c.integrity=t.integrity),t.referrerPolicy&&(c.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?c.credentials="include":t.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(t){if(t.ep)return;t.ep=!0;const c=o(t);fetch(t.href,c)}})();const p=document.querySelector("[data-user-Weather]"),T=document.querySelector("[data-search-Weather]");document.querySelector("[data-Weather-container]");const m=document.querySelector(".grantLocation"),u=document.querySelector("[data-search-form]"),r=document.querySelector("[data-loadingScreen]"),d=document.querySelector("[data-weatherInfoContainer]"),l=document.querySelector(".notfound");document.querySelector("[data-apinotfound]");const C="385a112c1bd00bb2cba5a780cdd82b95";let i=p;i.classList.add("currentTab");O();function I(e){l.classList.remove("active"),e!=i&&(i.classList.remove("currentTab"),i=e,i.classList.add("currentTab")),u.classList.contains("active")?(u.classList.remove("active"),d.classList.remove("active"),O()):(d.classList.remove("active"),m.classList.remove("active"),u.classList.add("active"))}p.addEventListener("click",()=>{I(p)});T.addEventListener("click",()=>{I(T)});function O(){const e=sessionStorage.getItem("user-coordinates");if(!e)m.classList.add("active");else{const s=JSON.parse(e);$(s)}}async function $(e){const{lat:s,lon:o}=e;m.classList.remove("active"),r.classList.add("active");try{const t=await(await fetch(`https://api.openweathermap.org/data/2.5/weather?lat=${s}&lon=${o}&appid=${C}&units=metric`)).json();r.classList.remove("active"),d.classList.add("active"),x(t)}catch{r.classList.remove("active"),l.classList.add("active")}}function x(e){var v,y,L,g,S,q,b,f,h;const s=document.querySelector("[data-city-name]"),o=document.querySelector("[data-country-icon]"),a=document.querySelector("[data-weather-desc]"),t=document.querySelector("[data-weather-icon]"),c=document.querySelector("[data-temp]"),n=document.querySelector("[data-windspeed]"),N=document.querySelector("[data-humidity]"),W=document.querySelector("[data-clouds]");s.innerText=e==null?void 0:e.name,o.src=`https://flagcdn.com/144x108/${(v=e==null?void 0:e.sys)==null?void 0:v.country.toLowerCase()}.png`,a.innerText=(L=(y=e==null?void 0:e.weather)==null?void 0:y[0])==null?void 0:L.description,t.src=`https://openweathermap.org/img/w/${(S=(g=e==null?void 0:e.weather)==null?void 0:g[0])==null?void 0:S.icon}.png`,c.innerText=`${(q=e==null?void 0:e.main)==null?void 0:q.temp}Â°C`,n.innerText=((b=e==null?void 0:e.wind)==null?void 0:b.speed)+"m/s",N.innerText=((f=e==null?void 0:e.main)==null?void 0:f.humidity)+"%",W.innerText=((h=e==null?void 0:e.clouds)==null?void 0:h.all)+"%"}const E=document.querySelector("[data-grant-access]");E.addEventListener("click",P);function P(){navigator.geolocation?navigator.geolocation.getCurrentPosition(A):alert("No Geolocation Found")}function A(e){const s={lat:e.coords.latitude,lon:e.coords.longitude};sessionStorage.setItem("user-coordinates",JSON.stringify(s)),$(s)}const F=document.querySelector("[data-seach-input]");u.addEventListener("submit",e=>{e.preventDefault();let s=F.value;s!==""&&j(s)});async function j(e){r.classList.add("active"),d.classList.remove("active"),l.classList.remove("active"),m.classList.remove("active");try{const o=await(await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${e}&appid=${C}&units=metric`)).json();if(!o.sys)throw o;r.classList.remove("active"),d.classList.add("active"),x(o)}catch{r.classList.remove("active"),l.classList.add("active")}}
